###############################################
# EverMed App – Environment Variables (template)
# Copy to .env.local for local dev. For staging/production,
# set these in Vercel Project → Settings → Environment Variables.
###############################################

# Public Supabase (client) — use your Supabase Cloud project values
# Example: https://your-ref.supabase.co
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Server-side (admin – never expose publicly)
SUPABASE_SERVICE_ROLE_KEY=

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_ENVIRONMENT=development

# OpenAI (primary provider; optional locally)
OPENAI_API_KEY=
OPENAI_MODEL_SUMMARY=gpt-5-mini
OPENAI_MODEL_INTERPRET=gpt-5
OPENAI_MODEL_NANO=gpt-5-nano
OPENAI_MODEL_EMBED=text-embedding-3-small
OPENAI_MODEL_EXPLAIN_IMAGE=gpt-5
# Lightweight model for simple image questions in chat
OPENAI_MODEL_IMAGE_LIGHT=gpt-5-mini
OPENAI_MAX_TOKENS_SUMMARY=800
OPENAI_MAX_TOKENS_INTERPRET=3000
# DAILY_BUDGET_USD=10
# Optional: override base
# OPENAI_BASE_URL=https://api.openai.com/v1

# Streaming toggle for Responses API (true enables server-side streaming)
OPENAI_STREAM=false

# Optional: organization/project headers for Responses API and org-gated features
# If set, these are sent as OpenAI-Organization / OpenAI-Project headers
OPENAI_ORG_ID=
# OPENAI_ORGANIZATION=  # alias supported if you prefer this name
OPENAI_PROJECT_ID=

# Gemini (optional, for future use)
# GOOGLE_API_KEY=

# MedGemma (Hugging Face Endpoints) – server-only
# Use Bearer auth with your hf_… personal token.
# For staging/production, set these in Vercel (do NOT prefix with NEXT_PUBLIC_).
MEDGEMMA_API_URL=https://y1wfz2j4s4ovi4fc.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_B4_URL=https://y1wfz2j4s4ovi4fc.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_B27_URL=https://j0ta1fa55it2p3uf.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_DEFAULT_MODEL=b4
MEDGEMMA_AUTH_SCHEME=bearer
MEDGEMMA_TOKEN=
# Increase for cold starts (ms). 90000–120000 recommended for Preview.
MEDGEMMA_TIMEOUT_MS=90000

# Notes:
# - Keep server secrets (service role, OpenAI key, MedGemma token) out of NEXT_PUBLIC_ vars.
# - DB/Auth/Storage run on Supabase Cloud for all environments (no local Postgres service).
# - For Preview/Production, set the same keys in Vercel per-environment.

# PDF extraction (server-side)
# Enable a secondary parser for tricky PDFs (uses pdfjs-dist). Leave off by default in dev.
PDF_USE_PDFJS_FALLBACK=false
# Max PDF size to attempt with fallback (bytes)
PDF_MAX_BYTES=25000000

# Optional external PDF extractor (e.g., Cloud Run)
# If set, APIs will POST the PDF bytes to this endpoint when local parsers return no text.
# Expect JSON { text: string } or text/plain.
PDF_EXTRACT_URL=
PDF_EXTRACT_BEARER=
PDF_EXTRACT_TIMEOUT_MS=20000

# Basic rate limits (per-user, per day). Set 0 to disable.
CHAT_MAX_REQUESTS_PER_DAY=0
IMAGE_MAX_REQUESTS_PER_DAY=0
