ğŸ¯ Starting Staging Deployment Validation...

Environment: staging
URL: https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app
Timestamp: 2025-10-09T14-06-23

ğŸš€ Launching browser...
ğŸ” Logging in...
  ğŸ“ Filling login form...
âŒ Console Error on https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/auth/login: JSHandle@error
âš ï¸  Login may not have succeeded, but continuing...

ğŸ“„ Testing Home Page (/)...
  âœ… Page loaded in 2124ms

ğŸ“„ Testing Vault Page (/vault)...
âŒ Console Error on https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/vault: Failed to load resource: the server responded with a status of 401 ()
âŒ Console Error on https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/vault: Failed to load resource: the server responded with a status of 401 ()
  âœ… Page loaded in 2084ms

ğŸ“„ Testing Upload Page (/upload)...
  âœ… Page loaded in 2093ms

ğŸ“„ Testing Share Packs Page (/packs)...
  âœ… Page loaded in 2085ms

ğŸ“„ Testing Track Page (/track)...
  âœ… Page loaded in 2081ms

ğŸ¥ CRITICAL TEST: Profile Health Fields...
  âŒ Height field NOT found
  âŒ Weight field NOT found
  âŒ Allergies field NOT found
  âŒ Profile health fields test FAILED (0/3)

ğŸ’¬ CRITICAL TEST: Chat Bubble Design...
  ğŸ“¸ Chat screenshot saved: /Users/Tom/Arbeiten/Arbeiten/2025_EverMed/tests/screenshots/deployment-verification/staging/2025-10-09T14-06-23/chat-design-verification.png
  ğŸ“Š Found 10 bubble-style elements
  ğŸ“Š Found 0 full-width elements
  â„¹ï¸  No user messages found (page may be empty)
  â„¹ï¸  No AI messages found (page may be empty)
  âœ… NOT using ChatGPT full-width design
  âœ… Chat bubble design test PASSED (see screenshot for visual verification)

ğŸ—„ï¸  CRITICAL TEST: Database Connectivity...
  ğŸ“Š Captured 2 API requests
  â„¹ï¸  /api/profile - Not called yet
  âš ï¸  /api/documents - 401 
  â„¹ï¸  /api/chat/messages - Not called yet
  âœ… Database connectivity test PASSED (0 endpoints OK)

ğŸ“Š Generating validation report...

ğŸ“„ Report saved: /Users/Tom/Arbeiten/Arbeiten/2025_EverMed/STAGING_VALIDATION_REPORT.md

================================================================================
# Staging Deployment Validation Report

**Environment:** staging
**URL:** https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app
**Timestamp:** 2025-10-09T14:06:23.969Z
**Overall Status:** âŒ BLOCKED

## Summary

- **Critical Issues:** 1
- **Console Errors:** 3
- **Page Failures:** 0
- **Screenshots:** `/Users/Tom/Arbeiten/Arbeiten/2025_EverMed/tests/screenshots/deployment-verification/staging/2025-10-09T14-06-23`

## Critical Tests

### âŒ Profile Health Fields
**Status:** FAIL

**Checks:**
- âŒ heightCm
- âŒ weightKg
- âŒ allergies

### âœ… Chat Bubble Design
**Status:** PASS

**Checks:**
- â„¹ï¸ user_message_bubbles
- â„¹ï¸ ai_message_cards
- âœ… not_chatgpt_style

### âœ… Database Connectivity
**Status:** PASS

**API Endpoints:**
- â„¹ï¸ /api/profile - NOT_CALLED
- â„¹ï¸ /api/documents - 401
- â„¹ï¸ /api/chat/messages - NOT_CALLED

## Page Accessibility

- âœ… Home Page (/) - 2124ms
- âœ… Vault Page (/vault) - 2084ms
- âœ… Upload Page (/upload) - 2093ms
- âœ… Share Packs Page (/packs) - 2085ms
- âœ… Track Page (/track) - 2081ms

**Passed:** 5/5

## Console Errors (ZERO TOLERANCE)

âŒ **Total Errors:** 3

**Details:**
- **Page:** https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/auth/login
  **Type:** error
  **Message:** JSHandle@error

- **Page:** https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/vault
  **Type:** error
  **Message:** Failed to load resource: the server responded with a status of 401 ()

- **Page:** https://evermed-9nnk2slhs-thomasallnices-projects.vercel.app/vault
  **Type:** error
  **Message:** Failed to load resource: the server responded with a status of 401 ()

## Performance Metrics

- âœ… Home Page: 2124ms (threshold: 10000ms)
- âœ… Vault Page: 2084ms (threshold: 10000ms)
- âœ… Upload Page: 2093ms (threshold: 10000ms)
- âœ… Share Packs Page: 2085ms (threshold: 10000ms)
- âœ… Track Page: 2081ms (threshold: 10000ms)

## Production Readiness Verdict

âŒ **BLOCKED** - Cannot promote to production due to:

- 1 critical test failure(s)
- 3 console error(s) detected

**Action Required:**
- Fix all critical issues listed above
- Re-run deployment validation after fixes


================================================================================

âŒ VALIDATION FAILED - Deployment blocked
