# Local Postgres (used in CI and local dev for Prisma)
# Supabase Cloud (dev)
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
# Server-side (admin – never expose publicly)
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_DB_URL=
# Pepper used when hashing share pack passcodes
SHARE_LINK_PEPPER=
# Optional: direct DB URL for Prisma migrations in CI
SUPABASE_DB_URL=
# Alias required by Prisma schema.prisma (points to SUPABASE_DB_URL)
DATABASE_URL=${SUPABASE_DB_URL}


# OpenAI (primary provider; optional locally)
OPENAI_API_KEY=
OPENAI_MODEL_INTERPRET=gpt-5
OPENAI_MODEL_SUMMARY=gpt-4o-mini
OPENAI_MODEL_EXPLAIN_IMAGE=gpt-5
OPENAI_MODEL_IMAGE_LIGHT=gpt-5-mini #used for short image prompts; escalates to OPENAI_MODEL_INTERPRET (gpt-5) for harder image tasks.
OPENAI_MODEL_NANO=gpt-5-nano
OPENAI_MODEL_EMBED=text-embedding-3-small
OPENAI_MAX_TOKENS_SUMMARY=800
OPENAI_MAX_TOKENS_INTERPRET=3000
OPENAI_ORG_ID=
OPENAI_PROJECT_ID=
OPENAI_STREAM=true
# DAILY_BUDGET_USD=10
# Optional: override base
# OPENAI_BASE_URL=https://api.openai.com/v1


# PDF extraction (server-side)
# Enable a secondary parser for tricky PDFs (uses pdfjs-dist). Leave off by default in dev.
PDF_USE_PDFJS_FALLBACK=false
# Max PDF size to attempt with fallback (bytes)
PDF_MAX_BYTES=50000000
PDF_EXTRACT_URL=https://pdf-extractor-927839796089.europe-west3.run.app/extract
PDF_EXTRACT_BEARER=
PDF_EXTRACT_TIMEOUT_MS=20000
PDF_DEBUG=false

# Gemini (optional, for future use)
GOOGLE_API_KEY=

# MedGemma (Hugging Face Endpoints) – server-only
# Use Bearer auth with your hf_… personal token.
# For staging/production, set these in Vercel (do NOT prefix with NEXT_PUBLIC_).
MEDGEMMA_API_URL=https://y1wfz2j4s4ovi4fc.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_B4_URL=https://y1wfz2j4s4ovi4fc.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_B27_URL=https://j0ta1fa55it2p3uf.us-east-1.aws.endpoints.huggingface.cloud
MEDGEMMA_DEFAULT_MODEL=b4
MEDGEMMA_AUTH_SCHEME=bearer
MEDGEMMA_TOKEN=
# Increase for cold starts (ms). 90000–120000 recommended for Preview.
MEDGEMMA_TIMEOUT_MS=90000

# Notes:
# - Keep server secrets (service role, OpenAI key, MedGemma token) out of NEXT_PUBLIC_ vars.
# - Local Supabase keys: run `supabase start` then `supabase status` to copy ANON/SERVICE_ROLE.
# - Staging (Preview) and Production: set the same keys in Vercel per-environment.

